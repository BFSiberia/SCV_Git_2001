# Введение в контроль версий.

## Практическое занятие №1. Инструкция по работе с Git.

*В данном документе будет дана краткая инструкция о первых шагах в работе с Git.*

Для работы с Git нам потребуется установить две программы:

1. Сам Git, скачав подходящую версию со [страницы установки](https://git-scm.com/downloads);
2. Программу [Visual Studio Coding](https://code.visualstudio.com/download), являющуюся редактором кода, в которой мы и будем работать с Git.

### **Знакомство**
---
После установки Git и редактора, требуется открыть терминал и ввести следующие команды:

>git config --global user.name «Ваше имя англ буквами»
>git config --global user.email ваша_почта@example.com

Они необходимы для того, чтобы Git "узнал" вас, и в будущем облегчит работу в команде. 

### **Инициализация репозитория**
---
Первым шагом для начала работы непосредственно над каким-либо проектом, является создание папки под репозторий - места, где Git будет хранить локальную версию вашего проекта и записи всех изменений.

После того, как вы создали папку, её нужно открыть в проводнике программы __*Visual Studio Code*__ через меню "Файл" или в Проводнике, как на изображении ниже: 

![Меню в проводнике](Repo.jpg).

Теперь, чтобы ваша папка стала репозиторием, введите следующую команду:

>git init

Ваш репозиторий готов и в него можно добавлять файлы и папки проекта.

### **Запись изменений в репозиторий**
---
Чтобы начать контролировать версии файлов и папок вашего проекта, нужно воспользоваться командой

>git add

Вручную или с помощь умной подстановки (клавишей tab) можно выбрать, снимок изменений какого файла или папки вы хотите создать.

В последствии, каждый раз, когда вы внесли какие-либо изменения в файл или группу файлов, их __*обязательно*__ нужно проиндексировать повторным вводом команды __*git add*__.

*Помните: прежде чем обновить текущее состояние файла/папки, их необходимо сохранить (при этом возле названия файла в Проводнике повится буква М).*

Узнать текущий статус изменений фалов проекта поможет команда
>git status

После ее ввода, вы увидете текущее состояние вашех файлов:
* изменения отсутствуют
* файлы были изменены, но не проиндексировны (соответсвующие файлы будут выделены красным цветом)
* файлы изменены и проиндексированы (соответствующие файлы будут выделены зеленым цветом)

Третий вариант приводит нас к еще одной ключевой команде в системе контроля версий:

>git commit

Именно она берет все данные, проинлексированные командой _*git add*_, и добавляет их в новую версию (коммит) вашего проекта в репозитории.

Для удобства эту команду можно использовать с флагами:

* -m "Ваш текст", который позволяет добавить описание внесенных изменений;
* -a, который индексирует изменения, позволяя пропустить этап введения команды _*git add*_. 

Полезной командой, демонстрирующей изменения, внесенные в текущий файл, по сравнению с предыдущим зафиксированным вариантом, является:

>git diff

После её ввода, в окне терминала станет видно, что в текущем файле было удалено (выделяется красным), а что добавлено (выделяется зеленым).

### **Просмотр истории записей**
---
Историю всех зафиксированных версий (коммитов) из текущего положения в активной ветке можно просмотреть с помощью команды

>git log

Вы увидите ваше текущее положение в ветке версий (маркер HEAD), хэш-адрес версий с оставленным вами комментариями, автора сохраненных версии и дату сохранения.  

### **Перемещение между записями**
---

Чтобы перемещаться от одного варианта сохраненного состояния проекта к другому, используется команда

>git checkout

С ее помощью можно вернуться к любой из предыдущих записей состояния, указав её хэш-адрес. Причем, адрес не обязательно указывать полностью - достаточно прописать несколько первых знаков.

Вернуться в вариант, который был активным на момент начала вашего "путешествия" по версиям, можно указав master, вместо хэш-адреса "стартового" варианта. 

## Практическое занятие №2. Работа с ветками.

*В данном разделе будут описаны основные команды для работы с ветками в Git.*

### Создание веток.
---
За создание новой ветки в Git отвечает команда

>git branch

После команды указывается имя новой ветки.
Переход между ветками осуществляется аналогично переходам между записами состояния (комитами) при помощи команды checkout.

Стоит отметить, что содержимое ветки будет копией того состояния проекта, в котором вы находились на момент её создания.

Для быстрого создания и перехода в новую ветку, можно воспользоваться следующим флагом команды checkout:

* -d "Название ветки". Например __*git commit -b new_branch*__ создаст ветку new_branch и перенесет маркер HEAD в неё.

### Слияние веток.
---
Слияние веток осуществляется следующей командой:

>git merge

Для того, чтобы присоединить содержимое какой-либо ветки к текущей, необходимо набрать команду _*git merge "Наименование присоединяемой ветки"*_.

Стоит обратить внимание на то, что слияние произойдет без каких-либо осложнений только в том случае, если ветка-получаетль является прямым "родителем" ветки-донора.

Если же ветка-получатель успела получить несколько сохраненных версий-коммитов, возникнет конфликт. 

### Разрешение конфликтов.
---
Если Git не может самостоятельно объедить содержимое веток, он попросит сделать это самостоятельно. 
Интерфейс принятия исправлений выглядить так:
![Меню в проводнике](Conflict.jpg).
Зеленым выделено состояние в текущей вессии файла, а синим - то, что добавилось при слиянии.
У нас следующие варианты разрешения конфликта:

* Оставить и принять исходную версию;
* Принят и оставить изменения из ветки слияния;
* Оставить и принять обе версии;
* Сравнить изменения

### Удаление веток.
---
Удаление ненужных веток осуществдяется при помощи следующей команды:
> git branch -d "Название ветки"
Можно указать сразу несколько веток в одной команде.

## Практическое занятие №3. Работа с удаленными репозиториями.
---
*Данное практическое занятие описывает основные принципы работы с удаленными репозиториями.*

### Создание удаленного репозитория.
---
Для создания удаленного репозитория необходимо зарегистрировоться на одной из платформ по управлению проектами и версиями кода. Например, [GitHub](https://github.com/). 

После регистрации, у вас появится возможность создать новый репозиторий на платформе, нажав соответствующую кнопку интерфейса.
![Создание нового репозитория на GitHub](RemoteRepoNew.jpg)

Платформа предложит вам несколько вариантов дальнейших действией:

* создать новый репозиторий в камандной строке
* загрузить существующий репозиторий с локального компьютера
* импортировать код с чужого репозитория.

Каждый вариант предполагает определенных команд иницииации среди которых обязательно будут присутсвовать этапы присваивания имени "origin" первичному репозиторию и создания основной ветки (main). 

Стоит отметить, что использование имени "origin" в качестве имени первичного централизованного репозитория - дань традиции. 

### Клонирование удаленного репозитория в локальный репозиторий.
---
Теперь созданый репозиторий можно перенести на ваш локальный компьютер, предварительно скопировав HTML-ссылку на него, с помощью команды
>git clone "HTML-ссылка репозитория"

Теперь на вашем локальном компьютере находится полная копия удаленног рапозитория.
Чтобы начать работать с ним, требуется перейти в рабочую папку с помощью команды

>cd "Название папки репозитория"

### Добавление новых новых состояние проекта в удаленный репозиторий.
---
Важное замечание: клонировать можно любые репозитории: принадлежащие и не принедлежащие вам. И делать это можно без регистрации. 

А вот чтобы иметь возможность вносить правки, сделанные локально на удаленный проект, необходимо будет "подружить" вашу локальную программу Git c учетной записью платформы. 
Это позволит идентифицировать вас, как автора ваших репозиториев или правок к чужим проектам. (Именно для этого мы в самом начале данной инструкции вводили адрес электронной почты и имя пользователя.)

За отправку провок в удаленный репозиторий отвечает команда

>git push

Платформа самостоятельно осуществит слияние новой информации с имеющейся.

### Выкачивание новых состояний проекта из удаленного репозитория.
---
Если вам требуется получить последнюю версию состояни удаленного репозитория, это можно сделать с помощью команды

>git pull

Команда не только закачает все обновления проекта на локальный компьютер и но и осуществит слияние в автоматическом режиме.

### Работа с чужим удаленным репозиторием.
---
Если мы хотим поучаствовать в чьем-то стороннем проекте, нужно совершить следующие действия:
1. Сделать клон-копию чужого удаленного репозитория на платформе в свой удаленный, с помощью кнопки интерфейса Fork.
2. Клонировать полученную копию из своего удаленного репозитория на локальный компьютер
3. Создать новую ветку, где вы и будете вносить все свои правки.
4. По заверешнию работы, отправить все обновления на свой удаленный репозиторий с помощью команды _*git pull*_
5. Из своего удаленного репозитория отправить запрос на принятие изменений владельцу чужого репозитория.
